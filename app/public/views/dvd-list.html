<div class="container-fluid">
    <div class="row-fluid">

        <!--Sidebar content-->
        <div class="span3">
            <div class="informations-header">
                <p class="text-info">Nombre total de DVD : {{dvdList.length}}</p>
                <button type="button" ng-click="addDvd()" class="btn btn-primary">Ajouter un film</button>
                <button type="button" ng-click="collapseExpandAll()" class="btn btn-info">{{dvdOpenStatus ? 'Réduire tout' : 'Ouvrir tout'}}
                    <i class="glyphicon icon-white" ng-class="{'icon-minus': dvdOpenStatus, 'icon-plus': !dvdOpenStatus}"></i>
                </button>
            </div>
            {{isOpen}}

            <ul class="inline">
                <li>
                    Rechercher :
                </li>
                <li>
                    <!--<div class="input-group">-->
                        <!--<span class="input-group-addon">@</span>-->
                        <!--<input type="text" ng-model="query" class="form-control" placeholder="Username">-->
                    <!--</div>-->
                    <div class="input-prepend">
                        <span class="add-on"><i class="icon-search"></i></span>
                        <input type="text" ng-model="query" class="span12" placeholder="Film, Artiste, ...">
                    </div>

                </li>
            </ul>
            <!--<div>Rechercher : <input type="text" ng-model="query"></div>-->

            <ul class="inline">
                <accordion close-others="false">
                    <accordion-group is-open="isFirstFilterOpen">
                        <!--Header-->
                        <accordion-heading>
                            Filtres :
                            <i class="pull-right glyphicon" ng-class="{'icon-chevron-down': isFirstFilterOpen, 'icon-chevron-right': !isFirstFilterOpen}"></i>
                        </accordion-heading>

                        <!--Content-->
                        <li>
                            <span class="label label-info">
                            {{(dvdList | filter:query | movieFormatFilter:dvdFormats | dvdGenresFilter:dvdGenres | orderBy:orderProp).length}} films trouvés
                            </span>
                        </li>
                        </br>
                        <li>
                            Trier par :
                        </li>
                        <li>
                            <select ng-model="orderProp" ng-change="setOrderProp(orderProp)">
                                <option value="title">Alphabetique</option>
                                <option value="-releaseDate">Date de sortie</option>
                                <!-- Reverse the sort order by adding a - symbol before the sorting value -->
                                <option value="-rate">Préférence</option>
                            </select>
                        </li>
                        </br>
                        <li>
                            Filtres disponibles :
                        </li>
                        <li>
                            <dropdown-multiselect label="Formats" model="selectedDvdFormats" options="dvdFormats"></dropdown-multiselect>
                            <dropdown-multiselect label="Genres" model="selectedDvdGenres" options="dvdGenres"></dropdown-multiselect>
                        </li>

                    </accordion-group>
                </accordion>
            </ul>
        </div>

        <!--Body content-->
        <div class="span9">
            <ul class="dvd-list">
                <accordion close-others="oneAtATime">
                    <li ng-repeat="dvd in filteredDvdList = (dvdList | filter:query | movieFormatFilter:dvdFormats | dvdGenresFilter:dvdGenres | orderBy:orderProp)" class="dvd-listing">
                    <!--<li ng-repeat="dvd in dvdList | filter:query | movieFormatFilter:dvdFormats | dvdGenresFilter:dvdGenres | orderBy:orderProp" class="dvd-listing">-->
                        <accordion-group is-open="status.openDvd{{$index}}">
                            <!--Header-->
                            <accordion-heading>
                                {{dvd.title}}
                                <i class="pull-right glyphicon" ng-class="{'icon-chevron-down': status.openDvd{{$index}}, 'icon-chevron-right': !status.openDvd{{$index}}}"></i>
                            </accordion-heading>

                            <!--Content-->
                            <div class="row-fluid">
                                <!-- We redirect to the correct view when the user click on the picture -->
                                <div class="span3">
                                    <a href="{{href}}{{dvd._id}}" class="thumb"><img ng-src="{{dvd.moviePoster}}" class="movie-poster"></a>
                                </div>

                                <!-- We redirect to the correct view when the user click on the description -->
                                <div class="span9">
                                    <button type="button" id="deleteButton" ng-click="deleteDvd(dvd)" class="btn btn-danger delete-button">Supprimer</button>
                                    <a href="{{href}}{{dvd._id}}" class="lead">{{dvd.title}}</a>
                                    <p>
                                        <strong>Genres :</strong>
                                        {{dvd.genres | dvdGenreInline}}
                                    </p>
                                    <p>
                                        <strong>Date de sortie :</strong>
                                        {{dvd.releaseDate | date:'dd/MM/yyyy'}}
                                    </p>

                                    <!--<p><strong>Résumé :</strong> {{dvd.overview | overviewMaxLength}}</p>-->
                                    <dl>
                                        <dt>Résumé :</dt>
                                        <dd>{{dvd.overview | overviewMaxLength}}</dd>
                                    </dl>

                                    <!--<p>-->
                                        <!--<strong>Producteur :</strong>-->
                                        <!--{{dvd.director}}-->
                                    <!--</p>-->

                                    <!--&lt;!&ndash;<p><strong>Acteurs :</strong></p>&ndash;&gt;-->
                                    <!--&lt;!&ndash;<p ng-repeat="actor in dvd.actors">&ndash;&gt;-->
                                        <!--&lt;!&ndash;{{actor.name}}&ndash;&gt;-->
                                    <!--&lt;!&ndash;</p>&ndash;&gt;-->
                                    <!--<dl>-->
                                        <!--<dt>Acteurs :</dt>-->
                                        <!--<dd ng-repeat="actor in dvd.actors">-->
                                            <!--<a href="https://www.google.fr/search?q={{actor.name}}">{{actor.name}}</a>-->
                                            <!--({{actor.character}})-->
                                        <!--</dd>-->
                                    <!--</dl>-->

                                    <p>
                                        <strong>Préférence :</strong>
                                        <rating value="dvd.rate" max="max" readonly="isReadonly"></rating>
                                    </p>
                                    <p>
                                        <strong>Type :</strong>
                                        {{dvd.movieFormat}}
                                    </p>
                                </div>
                            </div>
                        </accordion-group>
                    </li>
                </accordion>
                <!--<button ng-click="JSONToCSVConvertor()">Generate File</button>-->
            </ul>
        </div>
    </div>
</div>